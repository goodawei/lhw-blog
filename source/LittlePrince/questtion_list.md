
1 laravel 启动加载顺序问题，在启动流程之前掉用了后面才加载的文件问题，看似不起眼的改变，引起大问题。

总结： 有时候非常严重的问题就是常常忽略的小不点。

防御式编程和契约编程:

默认不信任任何外部调用和方法，默认双方遵守契约，任意一方撕毁契约则抛出异常，建议在UI及应用层倾向于防御式编程保证友好及体验，在逻辑层倾向于契约式编程尽早暴露隐患(南北流量使用防御， 东西流量 使用契约)

可控的环境参数 :

代码不受环境的影响，各种魔术常亮，声明字符集，定义包含的绝对路径，错误级别7，自己开发的测试，准生产，生产环境切好等.



2 现在互联网业务比较复杂，涉及的业务比较多，链路比较复杂，涉及的中间件比较多，这些中间件出现问题通常会使整个链路不通。比如 redis, mysql,消息总线。

导致这些中间件出现问题的点： 

1. 是业务上的使用不合理 （如 redis 的大key），对底层数据结构不了解(解决方案 核心业务要分组)。

2. 是后台异步脚本的搞频次请求(如mysql 的事务锁表，消息总线的延时)。


3 互联网安全： 黑产，黑客 的攻击： 

数据库字段设计的不合理导致溢出 被黑客利用。

优惠券 红包 被黑产刷（设计具有学习能力的系统记录下黑产用户） 思路来源于动态规划。


4 流量暴增：降级预案