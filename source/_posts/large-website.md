---
title: 大型网站技术篇之容量估算和负载的查看
date: 2017-04-09 20:29:31
tags: 大型网站
---

### :writing_hand:大型网站具有的特点

- 海量数据（大数据）
- 高并发 大流量
- 高可用 7*24 小时不断服务, 五个9级别 (99.999)
- 频频迭代，需求多

### :writing_hand:容量估算和负载查看

容量：数据量，并发量，带宽，CPU 等

容量评估的简单步骤和方法：

- 评估总访问量，结合市场及运营活动等评估
- 评估平局访问量QPS
- 评估高峰QPS，一般是平均QPS的2倍
- 系统压测如用apache的 ab等，单机极限QPS，拿高峰的QPS和单机压测的QPS比对一下。
- 计算容量

负载：系统的繁忙程度，即有多少进程等cpu调度

top命令：过去1分钟，5分钟，10分钟的负载值 

Load Avg: 1.61, 1.79, 1.64  CPU usage: 1.96% user, 1.96% sys, 96.6%  

Load 的警惕值 ： 以单核为例 Load > 2 系统以相对繁忙 Load > 5 系统崩溃边缘

<!-- more -->