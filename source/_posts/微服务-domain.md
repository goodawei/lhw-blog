---
title: 微服务领域设计范式-领域边界-领域职责
date: 2016-06-01 21:55:53
tags: 微服务
categories: devops
---

### design step

- 确定领域边界，领域功能（所能暴露的接口功能） ， 领域模型

- 概要设计 api 

- 详细设计 API 输入 输出 

- coding 重要的业务画一画流程图


### 服务拆分

就现在的软件工程来说，都可以通过抽象来优雅的解决问题。

重点：明确职责，关注点分离 。

不要重复早轮子，你自己造的轮子是自己一个人拍着脑袋瓜造的，结对编程或者一个屋子就一台电脑几个人轮溜写代码，有足够多的眼睛，就可以让问题浮现。
  
重要的业务场景一定要化流程图。结对编程。
  
追求单个文件代码行数，还是文件个数，取决你是否 能够快速描述一段代码的流程

服务拆分：代码按照业务 水平拆，结对编程 垂直拆，这里可能涉及到devpos 的反模式。


### pass 云平台 part component


### Apigetway


### 服务注册中心

服务注册中心是服务发现的核心。它保存了各个可用服务实例的网络地址（IP Address和Port）。服务注册中心必须要有高可用性和实时更新功能。

服务发现的核心是服务注册中心。服务注册中心保存了各个服务可用的实例的相关信息。服务注册中心提供了管理API和查询API。使用管理API进行服务注册、注销。系统的其他组件可以通过查询API来获得当前可用的服务实例信息。
有两种主要的服务发现方式：客户端发现（client-side service discovery）和服务端发现（ server-side discovery）。在使用客户端服务发现的方式中，客户通过查询服务注册中心，选择一个可用的服务实例。在使用服务器端发现系统中，客户访问Router/load balancer，通过Router/load balancer查询服务注册中心，并将请求转发到一个可用服务实例上。
服务注册和注销的方式也有两种。一种是服务自己主动的将自己注册到服务注册中心，称为self-registration。另一种是通过其他组件来处理服务的注册和注销，称为third-party registration。

不同语言之间可以通过各种代理实现服务注册。



### problem

程序层级目录结构：尽量避免已程序层面建立目录 ， 应从业务角度组建目录结构，并且保证功能文件的高内聚低耦合 。

支持门面包装服务。

### Minimum Viable Product

是一种避免开发出客户并不真正需要的产品的开发策略。该策略的基本想法是，快速地构建出符合产品预期功能的最小功能集合，这个最小集合所包含的功能足以满足产品部署的要求并能够检验有关客户与产品交互的关键假设[1]。该概念由Eric Ries在其著作《精益创业实战》中提出，用最快、最简明的方式建立一个可用的产品原型，这个原型要表达出你产品最终想要的效果，然后通过迭代来完善细节。

http://www.jianshu.com/p/2e1ca1c22b65

http://www.woshipm.com/pd/237443.html


