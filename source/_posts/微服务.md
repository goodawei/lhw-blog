---
title: 微服务
date: 2017-02-18 20:40:02
tags: 微服务
categories: devops
---

### 微服务目的

一直在说微服务，微服务到底能带来什么好处呢，从老板的角度来说，他们真正只在乎两件事情：

系统要稳定，别挂<br>

出活要快，我让你们加什么功能，赶紧就给加上


稳定性和交付速度就是最重要的两个指标了。

### 微服务切分

把一个单体应用切分为多个进程，独立部署是必然的。独立发布，独立测试，独立流水线，无论怎么拆分，都会比合在一起要好。但是也会设计到跨进程的事务一致性问题如何保证，以及跨网络延时等用户体验问题。

<!-- more -->

### 微服务之间调用和异步化

SOAP和RPC都是SOA的具体实现方式。这里要说的是由于服务的拆分，消息总线或者消息队列也是重要的一个设计环节，因为RPC 和消息队列最本质的区别，不是网络开销，不是提高并发，而是职责的反转。比如我们开发中经常遇到这样的业务流程，卡券团队对订单团队说你们下单的时候要调一下我的接口我要送卡券...,可以转变成不是我调你而是你主动来取。我只要将事件handle放进消息队列就ok啦。当然RPC好还是走消息队列好，还是要根据业务去做权衡。



